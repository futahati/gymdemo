<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Demo</title>
</head>

<body>
    <h1>Hello! JavaScript</h1>

    <script>
        let x = 10;
        let y = 20;
        const PI = 3.1415926;
        x = 20;
        let z = x + y;
        console.log(z);
        console.log(x - y);

        /**
         * prompt →提示輸入
         * log    →輸出
         * 字串可與數值進行運算
         * 使用 let →進行變數宣告
         * typeof →觀察變數型態
         */

        //取得圓面積邏輯
        /**
        let radius = prompt("請輸入半徑：10"); //prompt = python的input
        let radius = 5;
        console.log(typeof (radius)); //prompt後皆為「string」，javascript 轉成數值後接著計算。
        let area = radius ** 2 * PI;
        const result = "半徑為：" + radius + "／面積為：" + area; //可直接「字串」+變數
        console.log(result);
        document.write(result); //顯示在網頁上
        alert(result);
        */

        /**
         * 程式練習：計算BMI
         * 讓使用者可以輸入：姓名／身高／體重
         * 計算 BMI
         * 使用 document.write 輸入姓名、BMI
         */

        // 使用者可以輸入三次
        // python的寫法：for i in range(3):
        // for (let i = 0; i < 3; i++) {
        //     let name = prompt("請輸入姓名：");
        //     let height = prompt("請輸入身高：");
        //     let weight = prompt("請輸入體重：");

        //     let bmi = weight / (height / 100) ** 2;

        //     console.log(name, height, weight, bmi);

        //     if (isNaN(bmi)) {
        //         alert("輸入內容不正確，請重新輸入。")
        //     } else {
        //         //document.write("<h1>"+name+"</h1>")
        //         document.write(`<h1>${name}</h1>`);
        //         document.write(`<li>身高：${height}</li>`);
        //         document.write(`<li>體重：${weight}</li>`);
        //         document.write(`<li>BMI：${bmi.toFixed(2)}</li>`);
        //     }

        //     // document.write("<br>" + name + " → BMI:" + bmi.toFixed(2));
        // }
        let count = 0; //累計使用者輸入次數
        let total = 0;
        while (true) {
            if (count == 3) {
                break;
            }
            let name = prompt("請輸入姓名：");
            let height = prompt("請輸入身高：");
            let weight = prompt("請輸入體重：");

            // 身高、體重輸入時「不能為空」 or 改寫為→ ||  ／  and 改寫為→ &&  ／  not 改寫為→ !
            if (height == "" || weight == "") {
                alert("輸入內容不正確，請重新輸入。");
            } else {

                // 約定身高、體重之範圍，無使用 function isValid(value)
                // if ((height < 1 || height > 500) || (weight < 1 || weight > 500)) {
                //     alert("輸入數值不正確，輸入範圍：1~500");
                //     continue;
                // }

                // 使用 function isValid(value)
                if (!isValid(height, 1, 300) || !isValid(weight, 1, 500)) {
                    alert("輸入數值不正確，身高範圍：1~300/體重範圍：1~500");
                    continue;
                }

                let bmi = weight / (height / 100) ** 2;

                console.log(name, height, weight, bmi);

                if (isNaN(bmi)) {
                    alert("輸入內容不正確，請重新輸入。");
                } else {
                    //document.write("<h1>"+name+"</h1>")
                    document.write(`<h1>${name}</h1>`);
                    document.write(`<li>身高：${height}</li>`);
                    document.write(`<li>體重：${weight}</li>`);
                    document.write(`<li>BMI：${bmi.toFixed(2)}</li>`);
                    // python： count += 1
                    count++; //累計使用者輸入次數
                    total += bmi;
                }
            }

            // document.write("<br>" + name + " → BMI:" + bmi.toFixed(2));
        }

        // 輸出平均BMI
        document.write(`<h1>平均 BMI：${(total / count).toFixed(2)}</h1>`)


        // python寫法：
        // def isValid(value):
        //     return value >=1 and value <=500

        // 第一種寫法
        // function isValid(value){
        //     return value>=1 && value <=500;
        // }
        // 第二種寫法
        function isValid(value, start, end) {
            return value >= start && value <= end;
        }


    </script>

</body>

</html>