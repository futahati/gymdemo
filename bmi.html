<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI計算機</title>
    <link rel="stylesheet" href="res/style.css">

    <style>
        #bmi-form {
            background-color: aliceblue;
            width: 30%;
            margin: 0 auto;
            padding: 50px;
            color: black;
            border: 4px rgb(168, 134, 199) solid;
            border-radius: 6px;
        }

        input {
            margin: 6px 0;
            width: 70%;
        }

        button {
            background-color: rgb(168, 134, 199);
            border: 0px;
            width: 80px;
            padding: 3px;
            font-size: 24px;
        }

        @media screen and (max-width:768px) {
            bmi-form {
                width: 50%;
            }

            input {
                width: 60%
            }
        }

        @media screen and (max-width:468px) {
            bmi-form {
                width: 80%;
            }

            input {
                width: 90%
            }
        }
    </style>


</head>

<body>
    <div id="title">BMI計算機</div>

    <div id="bmi-form">

        <label for="username">姓名</label>
        <input id="username" name="username" type="text" placeholder="jerry"><br>

        <label for="password">密碼</label>
        <input id="password" name="password" type="password"><br>

        <label for="data">生日</label>
        <input id="data" type="date"><br>

        <label for="height">身高</label>
        <input id="height" id="height" name="height" type="number" step="0.5" value="150"><br>

        <label for="width">體重</label>
        <input id="width" id="width" name="width" type="number" step="0.5" value="65"><br>


        <p><button onclick="calcBMI()">計算</button></p>
    </div>


    <!-- 加入返回 -->
    <a href="index.html">返回首頁</a>
    <p id="result"> BMI：</p>
    <p id="comment">
        評語
    </p>


    <script>
        function calcBMI() {

            if (heightEl.value == "" || widthEl.value == "") {
                resultEl.innerHTML = `<h1 style="color:red">輸入不能為空值。</h1>`;
                return;
            }
            // 計算 BMI
            let bmi = widthEl.value / (heightEl.value / 100) ** 2;
            //document.write(`BMI：${bmi.toFixed(2)}`);

            // isNaN 提示輸入不正確
            if (isNaN(bmi)) {
                resultEl.innerHTML = `<h1 style="color:blue">身高、體重輸入不正確。</h1>`;
            } else {
                resultEl.innerHTML = `<h1>BMI：${bmi.toFixed(2)}</h1>`;
                // resultEl.innerText = `<h1>BMI：${bmi.toFixed(2)}</h1>` //待確認
                // 增加評語
                let comment;
                if (bmi < 18.5) {
                    comment = "體重過輕";
                } else if (bmi < 24) {
                    comment = "健康體位";
                } else {
                    comment = "體位異常";
                }
                console.log(commentEl);
                commentEl.innerHTML = `<h3>${comment}</h3>`;
            }

        }

        let heightEl = document.querySelector("#height");
        let widthEl = document.querySelector("#width");
        let buttonEl = document.querySelector("button");
        let resultEl = document.querySelector("#result");
        let commentEl = document.querySelector("#comment");
        console.log(commentEl, resultEl, buttonEl, heightEl, widthEl);
        console.log(commentEl, resultEl, buttonEl, heightEl.value, widthEl.value); //顯示輸入的值

        // 計算 BMI
        // let bmi = widthEl.value / (heightEl.value / 100) ** 2;
        // alert(`BMI：${bmi.toFixed(2)}`) //顯示輸入的值

    </script>

</body>

</html>